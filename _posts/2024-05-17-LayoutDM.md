---
title: "[DM][LG] LayoutDM: Discrete Diffusion Model for Controllable Layout Generation"
---
# [DM][LG] LayoutDM: Discrete Diffusion Model for Controllable Layout Generation

- paper: https://arxiv.org/pdf/2303.08137
- github: https://github.com/CyberAgentAILab/layout-dm
- CVPR 2023 accepted (인용수: 44회, 2024-05-17 기준)
- downstrema task: Layout Generation

# 1. Motivation

- Diffusion이 image뿐만 아니라 text generation에도 좋은 성능을 보이고 있음

- 특히 discretized space는 text 생성 시 잘되고 있음 (D3PM)

  $\to$ Discretized space에서 layout을 generation해보면 어떨까?

# 2. Contribution

- Discrete diffusion process를 Layout generation task에 적용하기 위해 **modality-wise diffusion**을 제안하고, dynamic layout size를 고려한 **padding approach**를 적용함
  - modality-wise diffusion: entity (class), x, y, w, h 등 modality마다 transition matrix를 denosing step별로 구분해서 denoising
  - padding approach: Max layout 갯수를 predefined하고 document별로 layout을 할당하고 남은 tokeN에 대해 [PAD] token으로 setting
- Inference때 [Masking] token과 logit adjustment를 사용한 layout constraint를 적용하여 single model로 multi-task (C$\to$S+P, C+S$\to$P, completing, refinement, 등) 수행 가능해짐
- 다양한 layout generation benchmark에서 준수한 성능을 냄

# 3. LayoutDM

- Preliminaries: D3PM

  - categorical variable을 text 생성에 맞춰 디자인한 논문

  - forward process

    ![](../images/2024-05-17/%EC%8A%A4%ED%81%AC%EB%A6%B0%EC%83%B7%202024-05-17%2015-14-59.png)

    - *T*: total time step

    - ![](../images/2024-05-17/%EC%8A%A4%ED%81%AC%EB%A6%B0%EC%83%B7%202024-05-17%2015-15-50.png)

    - **Q**$_t$: transition matrix $\in [0,1]^{K \times K}$

      - [*Q*$_t$]$_{mn}$ = q($z_t=m|z_{t-1}=n$)

    - Markov property를 이용해 다음을 유도할 수 있음

      ![](../images/2024-05-17/%EC%8A%A4%ED%81%AC%EB%A6%B0%EC%83%B7%202024-05-17%2015-17-38.png)

      - ![](../images/2024-05-17/%EC%8A%A4%ED%81%AC%EB%A6%B0%EC%83%B7%202024-05-17%2015-18-04.png)

- overall diagram

  ![](../images/2024-05-17/%EC%8A%A4%ED%81%AC%EB%A6%B0%EC%83%B7%202024-05-17%2015-13-13.png)

# 4. Experiments

